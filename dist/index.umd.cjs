(function(T,O){typeof exports=="object"&&typeof module<"u"?module.exports=O():typeof define=="function"&&define.amd?define(O):(T=typeof globalThis<"u"?globalThis:T||self,T.html2a4tmpl=O())})(this,function(){"use strict";const T=document,O=window,bt=T.documentElement,B=T.createElement.bind(T),wt=B("div"),et=B("table"),Ut=B("tbody"),xt=B("tr"),{isArray:X,prototype:Ct}=Array,{concat:Vt,filter:it,indexOf:Tt,map:$t,push:zt,slice:Et,some:rt,splice:Jt}=Ct,Yt=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,Gt=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,Xt=/<.+>/,Kt=/^\w+$/;function st(t,n){const e=Qt(n);return!t||!e&&!M(n)&&!g(n)?[]:!e&&Gt.test(t)?n.getElementsByClassName(t.slice(1).replace(/\\/g,"")):!e&&Kt.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t)}class K{constructor(n,e){if(!n)return;if(ot(n))return n;let i=n;if(w(n)){const r=e||T;if(i=Yt.test(n)&&M(r)?r.getElementById(n.slice(1).replace(/\\/g,"")):Xt.test(n)?Nt(n):ot(r)?r.find(n):w(r)?o(r).find(n):st(n,r),!i)return}else if(P(n))return this.ready(n);(i.nodeType||i===O)&&(i=[i]),this.length=i.length;for(let r=0,u=this.length;r<u;r++)this[r]=i[r]}init(n,e){return new K(n,e)}}const s=K.prototype,o=s.init;o.fn=o.prototype=s,s.length=0,s.splice=Jt,typeof Symbol=="function"&&(s[Symbol.iterator]=Ct[Symbol.iterator]);function ot(t){return t instanceof K}function q(t){return!!t&&t===t.window}function M(t){return!!t&&t.nodeType===9}function Qt(t){return!!t&&t.nodeType===11}function g(t){return!!t&&t.nodeType===1}function Zt(t){return!!t&&t.nodeType===3}function tn(t){return typeof t=="boolean"}function P(t){return typeof t=="function"}function w(t){return typeof t=="string"}function $(t){return t===void 0}function z(t){return t===null}function At(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ut(t){if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return n===null||n===Object.prototype}o.isWindow=q,o.isFunction=P,o.isArray=X,o.isNumeric=At,o.isPlainObject=ut;function m(t,n,e){if(e){let i=t.length;for(;i--;)if(n.call(t[i],i,t[i])===!1)return t}else if(ut(t)){const i=Object.keys(t);for(let r=0,u=i.length;r<u;r++){const c=i[r];if(n.call(t[c],c,t[c])===!1)return t}}else for(let i=0,r=t.length;i<r;i++)if(n.call(t[i],i,t[i])===!1)return t;return t}o.each=m,s.each=function(t){return m(this,t)},s.empty=function(){return this.each((t,n)=>{for(;n.firstChild;)n.removeChild(n.firstChild)})};function Q(...t){const n=tn(t[0])?t.shift():!1,e=t.shift(),i=t.length;if(!e)return{};if(!i)return Q(n,o,e);for(let r=0;r<i;r++){const u=t[r];for(const c in u)n&&(X(u[c])||ut(u[c]))?((!e[c]||e[c].constructor!==u[c].constructor)&&(e[c]=new u[c].constructor),Q(n,e[c],u[c])):e[c]=u[c]}return e}o.extend=Q,s.extend=function(t){return Q(s,t)};const nn=/\S+/g;function Z(t){return w(t)?t.match(nn)||[]:[]}s.toggleClass=function(t,n){const e=Z(t),i=!$(n);return this.each((r,u)=>{g(u)&&m(e,(c,f)=>{i?n?u.classList.add(f):u.classList.remove(f):u.classList.toggle(f)})})},s.addClass=function(t){return this.toggleClass(t,!0)},s.removeAttr=function(t){const n=Z(t);return this.each((e,i)=>{g(i)&&m(n,(r,u)=>{i.removeAttribute(u)})})};function en(t,n){if(t){if(w(t)){if(arguments.length<2){if(!this[0]||!g(this[0]))return;const e=this[0].getAttribute(t);return z(e)?void 0:e}return $(n)?this:z(n)?this.removeAttr(t):this.each((e,i)=>{g(i)&&i.setAttribute(t,n)})}for(const e in t)this.attr(e,t[e]);return this}}s.attr=en,s.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr("class","")},s.hasClass=function(t){return!!t&&rt.call(this,n=>g(n)&&n.classList.contains(t))},s.get=function(t){return $(t)?Et.call(this):(t=Number(t),this[t<0?t+this.length:t])},s.eq=function(t){return o(this.get(t))},s.first=function(){return this.eq(0)},s.last=function(){return this.eq(-1)};function rn(t){return $(t)?this.get().map(n=>g(n)||Zt(n)?n.textContent:"").join(""):this.each((n,e)=>{g(e)&&(e.textContent=t)})}s.text=rn;function R(t,n,e){if(!g(t))return;const i=O.getComputedStyle(t,null);return e?i.getPropertyValue(n)||void 0:i[n]||t.style[n]}function S(t,n){return parseInt(R(t,n),10)||0}function St(t,n){return S(t,`border${n?"Left":"Top"}Width`)+S(t,`padding${n?"Left":"Top"}`)+S(t,`padding${n?"Right":"Bottom"}`)+S(t,`border${n?"Right":"Bottom"}Width`)}const ct={};function sn(t){if(ct[t])return ct[t];const n=B(t);T.body.insertBefore(n,null);const e=R(n,"display");return T.body.removeChild(n),ct[t]=e!=="none"?e:"block"}function kt(t){return R(t,"display")==="none"}function Rt(t,n){const e=t&&(t.matches||t.webkitMatchesSelector||t.msMatchesSelector);return!!e&&!!n&&e.call(t,n)}function tt(t){return w(t)?(n,e)=>Rt(e,t):P(t)?t:ot(t)?(n,e)=>t.is(e):t?(n,e)=>e===t:()=>!1}s.filter=function(t){const n=tt(t);return o(it.call(this,(e,i)=>n.call(e,i,e)))};function H(t,n){return n?t.filter(n):t}s.detach=function(t){return H(this,t).each((n,e)=>{e.parentNode&&e.parentNode.removeChild(e)}),this};const on=/^\s*<(\w+)[^>]*>/,un=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,_t={"*":wt,tr:Ut,td:xt,th:xt,thead:et,tbody:et,tfoot:et};function Nt(t){if(!w(t))return[];if(un.test(t))return[B(RegExp.$1)];const n=on.test(t)&&RegExp.$1,e=_t[n]||_t["*"];return e.innerHTML=t,o(e.childNodes).detach().get()}o.parseHTML=Nt,s.has=function(t){const n=w(t)?(e,i)=>st(t,i).length:(e,i)=>i.contains(t);return this.filter(n)},s.not=function(t){const n=tt(t);return this.filter((e,i)=>(!w(t)||g(i))&&!n.call(i,e,i))};function _(t,n,e,i){const r=[],u=P(n),c=i&&tt(i);for(let f=0,x=t.length;f<x;f++)if(u){const l=n(t[f]);l.length&&zt.apply(r,l)}else{let l=t[f][n];for(;l!=null&&!(i&&c(-1,l));)r.push(l),l=e?l[n]:null}return r}function vt(t){return t.multiple&&t.options?_(it.call(t.options,n=>n.selected&&!n.disabled&&!n.parentNode.disabled),"value"):t.value||""}function cn(t){return arguments.length?this.each((n,e)=>{const i=e.multiple&&e.options;if(i||Wt.test(e.type)){const r=X(t)?$t.call(t,String):z(t)?[]:[String(t)];i?m(e.options,(u,c)=>{c.selected=r.indexOf(c.value)>=0},!0):e.checked=r.indexOf(e.value)>=0}else e.value=$(t)||z(t)?"":t}):this[0]&&vt(this[0])}s.val=cn,s.is=function(t){const n=tt(t);return rt.call(this,(e,i)=>n.call(e,i,e))},o.guid=1;function k(t){return t.length>1?it.call(t,(n,e,i)=>Tt.call(i,n)===e):t}o.unique=k,s.add=function(t,n){return o(k(this.get().concat(o(t,n).get())))},s.children=function(t){return H(o(k(_(this,n=>n.children))),t)},s.parent=function(t){return H(o(k(_(this,"parentNode"))),t)},s.index=function(t){const n=t?o(t)[0]:this[0],e=t?this:o(n).parent().children();return Tt.call(e,n)},s.closest=function(t){const n=this.filter(t);if(n.length)return n;const e=this.parent();return e.length?e.closest(t):n},s.siblings=function(t){return H(o(k(_(this,n=>o(n).parent().children().not(n)))),t)},s.find=function(t){return o(k(_(this,n=>st(t,n))))};const fn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an=/^$|^module$|\/(java|ecma)script/i,ln=["type","src","nonce","noModule"];function hn(t,n){const e=o(t);e.filter("script").add(e.find("script")).each((i,r)=>{if(an.test(r.type)&&bt.contains(r)){const u=B("script");u.text=r.textContent.replace(fn,""),m(ln,(c,f)=>{r[f]&&(u[f]=r[f])}),n.head.insertBefore(u,null),n.head.removeChild(u)}})}function dn(t,n,e,i,r){i?t.insertBefore(n,e?t.firstChild:null):t.nodeName==="HTML"?t.parentNode.replaceChild(n,t):t.parentNode.insertBefore(n,e?t:t.nextSibling),r&&hn(n,t.ownerDocument)}function I(t,n,e,i,r,u,c,f){return m(t,(x,l)=>{m(o(l),(y,D)=>{m(o(n),(mt,d)=>{const a=e?D:d,h=e?d:D,N=e?y:mt;dn(a,N?h.cloneNode(!0):h,i,r,!N)},f)},c)},u),n}s.after=function(){return I(arguments,this,!1,!1,!1,!0,!0)},s.append=function(){return I(arguments,this,!1,!1,!0)};function pn(t){if(!arguments.length)return this[0]&&this[0].innerHTML;if($(t))return this;const n=/<script[\s>]/.test(t);return this.each((e,i)=>{g(i)&&(n?o(i).empty().append(t):i.innerHTML=t)})}s.html=pn,s.appendTo=function(t){return I(arguments,this,!0,!1,!0)},s.wrapInner=function(t){return this.each((n,e)=>{const i=o(e),r=i.contents();r.length?r.wrapAll(t):i.append(t)})},s.before=function(){return I(arguments,this,!1,!0)},s.wrapAll=function(t){let n=o(t),e=n[0];for(;e.children.length;)e=e.firstElementChild;return this.first().before(n),this.appendTo(e)},s.wrap=function(t){return this.each((n,e)=>{const i=o(t)[0];o(e).wrapAll(n?i.cloneNode(!0):i)})},s.insertAfter=function(t){return I(arguments,this,!0,!1,!1,!1,!1,!0)},s.insertBefore=function(t){return I(arguments,this,!0,!0)},s.prepend=function(){return I(arguments,this,!1,!0,!0,!0,!0)},s.prependTo=function(t){return I(arguments,this,!0,!0,!0,!1,!1,!0)},s.contents=function(){return o(k(_(this,t=>t.tagName==="IFRAME"?[t.contentDocument]:t.tagName==="TEMPLATE"?t.content.childNodes:t.childNodes)))},s.next=function(t,n,e){return H(o(k(_(this,"nextElementSibling",n,e))),t)},s.nextAll=function(t){return this.next(t,!0)},s.nextUntil=function(t,n){return this.next(n,!0,t)},s.parents=function(t,n){return H(o(k(_(this,"parentElement",!0,n))),t)},s.parentsUntil=function(t,n){return this.parents(n,t)},s.prev=function(t,n,e){return H(o(k(_(this,"previousElementSibling",n,e))),t)},s.prevAll=function(t){return this.prev(t,!0)},s.prevUntil=function(t,n){return this.prev(n,!0,t)},s.map=function(t){return o(Vt.apply([],$t.call(this,(n,e)=>t.call(n,e,n))))},s.clone=function(){return this.map((t,n)=>n.cloneNode(!0))},s.offsetParent=function(){return this.map((t,n)=>{let e=n.offsetParent;for(;e&&R(e,"position")==="static";)e=e.offsetParent;return e||bt})},s.slice=function(t,n){return o(Et.call(this,t,n))};const gn=/-([a-z])/g;function ft(t){return t.replace(gn,(n,e)=>e.toUpperCase())}s.ready=function(t){const n=()=>setTimeout(t,0,o);return T.readyState!=="loading"?n():T.addEventListener("DOMContentLoaded",n),this},s.unwrap=function(){return this.parent().each((t,n)=>{if(n.tagName==="BODY")return;const e=o(n);e.replaceWith(e.children())}),this},s.offset=function(){const t=this[0];if(!t)return;const n=t.getBoundingClientRect();return{top:n.top+O.pageYOffset,left:n.left+O.pageXOffset}},s.position=function(){const t=this[0];if(!t)return;const n=R(t,"position")==="fixed",e=n?t.getBoundingClientRect():this.offset();if(!n){const i=t.ownerDocument;let r=t.offsetParent||i.documentElement;for(;(r===i.body||r===i.documentElement)&&R(r,"position")==="static";)r=r.parentNode;if(r!==t&&g(r)){const u=o(r).offset();e.top-=u.top+S(r,"borderTopWidth"),e.left-=u.left+S(r,"borderLeftWidth")}}return{top:e.top-S(t,"marginTop"),left:e.left-S(t,"marginLeft")}};const Lt={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};s.prop=function(t,n){if(t){if(w(t))return t=Lt[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each((e,i)=>{i[t]=n});for(const e in t)this.prop(e,t[e]);return this}},s.removeProp=function(t){return this.each((n,e)=>{delete e[Lt[t]||t]})};const mn=/^--/;function at(t){return mn.test(t)}const lt={},{style:yn}=wt,bn=["webkit","moz","ms"];function wn(t,n=at(t)){if(n)return t;if(!lt[t]){const e=ft(t),i=`${e[0].toUpperCase()}${e.slice(1)}`,r=`${e} ${bn.join(`${i} `)}${i}`.split(" ");m(r,(u,c)=>{if(c in yn)return lt[t]=c,!1})}return lt[t]}const xn={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Ot(t,n,e=at(t)){return!e&&!xn[t]&&At(n)?`${n}px`:n}function Cn(t,n){if(w(t)){const e=at(t);return t=wn(t,e),arguments.length<2?this[0]&&R(this[0],t,e):t?(n=Ot(t,n,e),this.each((i,r)=>{g(r)&&(e?r.style.setProperty(t,n):r.style[t]=n)})):this}for(const e in t)this.css(e,t[e]);return this}s.css=Cn;function Ht(t,n){try{return t(n)}catch{return n}}const Tn=/^\s+|\s+$/;function It(t,n){const e=t.dataset[n]||t.dataset[ft(n)];return Tn.test(e)?e:Ht(JSON.parse,e)}function $n(t,n,e){e=Ht(JSON.stringify,e),t.dataset[ft(n)]=e}function En(t,n){if(!t){if(!this[0])return;const e={};for(const i in this[0].dataset)e[i]=It(this[0],i);return e}if(w(t))return arguments.length<2?this[0]&&It(this[0],t):$(n)?this:this.each((e,i)=>{$n(i,t,n)});for(const e in t)this.data(e,t[e]);return this}s.data=En;function Bt(t,n){const e=t.documentElement;return Math.max(t.body[`scroll${n}`],e[`scroll${n}`],t.body[`offset${n}`],e[`offset${n}`],e[`client${n}`])}m([!0,!1],(t,n)=>{m(["Width","Height"],(e,i)=>{const r=`${n?"outer":"inner"}${i}`;s[r]=function(u){if(this[0])return q(this[0])?n?this[0][`inner${i}`]:this[0].document.documentElement[`client${i}`]:M(this[0])?Bt(this[0],i):this[0][`${n?"offset":"client"}${i}`]+(u&&n?S(this[0],`margin${e?"Top":"Left"}`)+S(this[0],`margin${e?"Bottom":"Right"}`):0)}})}),m(["Width","Height"],(t,n)=>{const e=n.toLowerCase();s[e]=function(i){if(!this[0])return $(i)?void 0:this;if(!arguments.length)return q(this[0])?this[0].document.documentElement[`client${n}`]:M(this[0])?Bt(this[0],n):this[0].getBoundingClientRect()[e]-St(this[0],!t);const r=parseInt(i,10);return this.each((u,c)=>{if(!g(c))return;const f=R(c,"boxSizing");c.style[e]=Ot(e,r+(f==="border-box"?St(c,!t):0))})}});const Mt="___cd";s.toggle=function(t){return this.each((n,e)=>{if(!g(e))return;const i=kt(e);($(t)?i:t)?(e.style.display=e[Mt]||"",kt(e)&&(e.style.display=sn(e.tagName))):i||(e[Mt]=R(e,"display"),e.style.display="none")})},s.hide=function(){return this.toggle(!1)},s.show=function(){return this.toggle(!0)};const Pt="___ce",ht=".",dt={focus:"focusin",blur:"focusout"},Dt={mouseenter:"mouseover",mouseleave:"mouseout"},An=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function pt(t){return Dt[t]||dt[t]||t}function gt(t){const n=t.split(ht);return[n[0],n.slice(1).sort()]}s.trigger=function(t,n){if(w(t)){const[i,r]=gt(t),u=pt(i);if(!u)return this;const c=An.test(u)?"MouseEvents":"HTMLEvents";t=T.createEvent(c),t.initEvent(u,!0,!0),t.namespace=r.join(ht),t.___ot=i}t.___td=n;const e=t.___ot in dt;return this.each((i,r)=>{e&&P(r[t.___ot])&&(r[`___i${t.type}`]=!0,r[t.___ot](),r[`___i${t.type}`]=!1),r.dispatchEvent(t)})};function jt(t){return t[Pt]=t[Pt]||{}}function Sn(t,n,e,i,r){const u=jt(t);u[n]=u[n]||[],u[n].push([e,i,r]),t.addEventListener(n,r)}function Ft(t,n){return!n||!rt.call(n,e=>t.indexOf(e)<0)}function nt(t,n,e,i,r){const u=jt(t);if(n)u[n]&&(u[n]=u[n].filter(([c,f,x])=>{if(r&&x.guid!==r.guid||!Ft(c,e)||i&&i!==f)return!0;t.removeEventListener(n,x)}));else for(n in u)nt(t,n,e,i,r)}s.off=function(t,n,e){if($(t))this.each((i,r)=>{!g(r)&&!M(r)&&!q(r)||nt(r)});else if(w(t))P(n)&&(e=n,n=""),m(Z(t),(i,r)=>{const[u,c]=gt(r),f=pt(u);this.each((x,l)=>{!g(l)&&!M(l)&&!q(l)||nt(l,f,c,n,e)})});else for(const i in t)this.off(i,t[i]);return this},s.remove=function(t){return H(this,t).detach().off(),this},s.replaceWith=function(t){return this.before(t).remove()},s.replaceAll=function(t){return o(t).replaceWith(this),this};function kn(t,n,e,i,r){if(!w(t)){for(const u in t)this.on(u,n,e,t[u],r);return this}return w(n)||($(n)||z(n)?n="":$(e)?(e=n,n=""):(i=e,e=n,n="")),P(i)||(i=e,e=void 0),i?(m(Z(t),(u,c)=>{const[f,x]=gt(c),l=pt(f),y=f in Dt,D=f in dt;l&&this.each((mt,d)=>{if(!g(d)&&!M(d)&&!q(d))return;const a=function(h){if(h.target[`___i${h.type}`])return h.stopImmediatePropagation();if(h.namespace&&!Ft(x,h.namespace.split(ht))||!n&&(D&&(h.target!==d||h.___ot===l)||y&&h.relatedTarget&&d.contains(h.relatedTarget)))return;let N=d;if(n){let C=h.target;for(;!Rt(C,n);)if(C===d||(C=C.parentNode,!C))return;N=C}Object.defineProperty(h,"currentTarget",{configurable:!0,get(){return N}}),Object.defineProperty(h,"delegateTarget",{configurable:!0,get(){return d}}),Object.defineProperty(h,"data",{configurable:!0,get(){return e}});const v=i.call(N,h,h.___td);r&&nt(d,l,x,n,a),v===!1&&(h.preventDefault(),h.stopPropagation())};a.guid=i.guid=i.guid||o.guid++,Sn(d,l,x,n,a)})}),this):this}s.on=kn;function Rn(t,n,e,i){return this.on(t,n,e,i,!0)}s.one=Rn;const _n=/\r?\n/g;function Nn(t,n){return`&${encodeURIComponent(t)}=${encodeURIComponent(n.replace(_n,`\r
`))}`}const vn=/file|reset|submit|button|image/i,Wt=/radio|checkbox/i;s.serialize=function(){let t="";return this.each((n,e)=>{m(e.elements||[e],(i,r)=>{if(r.disabled||!r.name||r.tagName==="FIELDSET"||vn.test(r.type)||Wt.test(r.type)&&!r.checked)return;const u=vt(r);if(!$(u)){const c=X(u)?u:[u];m(c,(f,x)=>{t+=Nn(r.name,x)})}})}),t.slice(1)};function Ln(t){var n=window.getComputedStyle(t);return n.display==="none"||parseInt(n.height)===0}function On(){return this.filter(function(t,n){return!Ln(n)})}const In="";function Hn(){const t=function(){let c=document.createElement("div");c.id="mm",c.style.width="1mm",document.querySelector("body").appendChild(c);let f=document.getElementById("mm").getBoundingClientRect();return o("#mm").remove(),f.width}();let n=500;o("#app").__proto__.notHidden=On;function e(){console.log("start paging"),o("table.break-table").children("thead").addClass("need-break thead_break"),o("table.break-table tbody tr").addClass("need-break table_break");let u=i();for(;u.length;)u=i(r(u));console.log("end paging")}function i(u){return u?u.nextAll(".break-page").notHidden().first():o(".break-page").notHidden().first()}function r(u,c=0){if(--n<=0)throw new Error("Recursion error when breaking page");if(u.outerHeight()<=294*t+5||++c>50)return u;const f=u.offset().top,x=parseInt(u.css("paddingBottom"));let l=!1,y=null;return u.find(".need-break").notHidden().each(function(D,mt){if(o(this).offset().top+o(this).outerHeight()-f+parseInt(o(this).css("marginBottom"))>294*t-x){l=!0;let h=u.attr("class");if(u.hasClass("new-break-page")||(h+=" new-break-page"),y=o(`<div class="${h}" style="display:block"></div>`),o(this).hasClass("table_break")){var d=o(`<table class="${o(this).parents("table").attr("class")}"></table>`);d.append("<tbody></tbody>");var a=o(this);let N=D>1;if(D==1&&(N=o(this).find(".need-break").notHidden().not(".thead_break").length!==0),N){d.prepend(a.parents("table").children("thead").clone());let v=o(this).prevAll("tr"),C=[],J=[];for(let p=v.length-1;p>=0;p--){const U=v[p],V=p===v.length-1,E=o(U).find("td");if(V||(C=C.map(A=>A-1>0?A-1:0)),V){let A=0;for(let L=0,j=E.length;L<j;L++)A+=+o(E[L]).attr("colspan")||1;C=new Array(A).fill(0)}for(let A=0,L=E.length;A<L;A++){const j=E[A],G=+o(j).attr("rowspan")||1,F=+o(j).attr("colspan")||1;if(F>0){let W=C.findIndex(b=>b<1);for(let b=0;b<F;b++)C[W+b]=(C[W+b]||0)+G;if(G>1){J[W]=[p,A,G,F];for(let b=1;b<F;b++)J[W+b]=void 0}}}}let Y=C.map(p=>p>1?"N":0);a.find("td").each(function(p){const U=+o(this).attr("colspan")||1,V=Y.findIndex(E=>E===0);for(let E=0;E<U;E++)Y[V+E]=p+1});const qt={};for(let p=0;p<J.length;p++){if(!J[p])continue;const[U,V,E,A]=J[p]||[],L=E-U-1;if(L<=0)continue;const j=o(v[U]).find("td")[V];o(j).attr("rowspan",E-L);const G=o(j).clone().attr("rowspan",L),F="splitTd"+p;qt[F]=G;let W=Y.findIndex(b=>b==="N");if(W!==-1)for(let b=0;b<A;b++)Y[W+b]=F}const yt=a.clone().empty();[...new Set(Y)].forEach(p=>{typeof p=="string"?yt.append(qt[p]):yt.append(a.find("td").eq(p-1).clone())}),d.children("tbody").append(yt.clone()),d.children("tbody").append(a.nextAll().clone()),y.append(d),y.append(a.parents("table").nextAll().clone()),a.nextAll().remove(),a.parents("table").nextAll().remove(),a.remove()}else{a.nextAll().length?(d.prepend(a.parents("table").children("thead").clone()),d.children("tbody").append(a.nextAll().clone()),a.nextAll().remove(),y.append(d),y.append(a.parents("table").nextAll().clone()),a.parents("table").nextAll().remove()):(y.append(a.parents("table").nextAll().clone()),a.parents("table").nextAll().remove());let v=o(`<div style="height:${294*t-100}px;overflow:hidden;"></div>`);a.parents(".break-page").append(v),v.append(a.parents("table"))}}else o(this).hasClass("thead_break")?(y.append(o(this).parents("table").clone()),y.append(o(this).parents("table").nextAll().clone()),o(this).parents("table").nextAll().remove(),o(this).parents("table").remove()):(y.append(o(this).clone()),y.append(o(this).nextAll().clone()),o(this).nextAll().remove(),o(this).remove());return u.after(y),!1}}),l?r(y,c):u}return{execPaging:e}}return Hn});
